@page
@model DrawClient.Pages.Customer.Course.DetailModel

<!--====== PAGE BANNER PART START ======-->

<section id="page-banner" class="pt-105 pb-110 bg_cover" data-overlay="8" style="background-image: url(/images/page-banner-2.jpg)">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="page-banner-cont">
                    <h2>@Model.Course.Name</h2>
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="/Index">Home</a></li>
                            <li class="breadcrumb-item"><a href="/Customer/Course/List">Courses</a></li>
                            <li class="breadcrumb-item active" aria-current="page">@Model.Course.Name</li>
                        </ol>
                    </nav>
                </div>  <!-- page banner cont -->
            </div>
        </div> <!-- row -->
    </div> <!-- container -->
</section>

<!--====== PAGE BANNER PART ENDS ======-->

<!--====== COURSES SINGLE PART START ======-->

<section id="corses-singel" class="pt-90 pb-120 gray-bg">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <div class="corses-singel-left mt-30">
                    <div class="title">
                        <h3>@Model.Course.Name</h3>
                    </div> <!-- title -->
                    <div class="course-terms">
                        <ul>
                            <li>
                                <div class="course-category">
                                    <span>Instructor</span>
                                    <h6>@Model.Course.Instructor.Information.Name</h6>
                                </div>
                            </li>
                            <li>
                                <div class="course-category">
                                    <span>Material</span>
                                    <h6>@Model.Course.Material</h6>
                                </div>
                            </li>
                            <li>
                                <div class="course-category">
                                    <span>Topic</span>
                                    <h6>@Model.Course.Topic.Name</h6>
                                </div>
                            </li>
                            <li>
                                <div class="course-category">
                                    <span>Level</span>
                                    <h6>@Model.Course.Level</h6>
                                </div>
                            </li>
                        </ul>
                    </div> <!-- course terms -->

                    <div class="corses-singel-image pt-50">
                        <img src="@Model.Course.ThumbUrl" alt="Courses">
                    </div> <!-- corses singel image -->

                    <div class="corses-tab mt-30">
                        <ul class="nav nav-justified" id="myTab" role="tablist">
                            <li class="nav-item">
                                <a class="active" id="overview-tab" data-toggle="tab" href="#overview" role="tab" aria-controls="overview" aria-selected="true">Overview</a>
                            </li>
                            <li class="nav-item">
                                <a id="curriculam-tab" data-toggle="tab" href="#curriculam" role="tab" aria-controls="curriculam" aria-selected="false">Curriculum</a>
                            </li>
                            <li class="nav-item">
                                <a id="instructor-tab" data-toggle="tab" href="#instructor" role="tab" aria-controls="instructor" aria-selected="false">Instructor</a>
                            </li>
                            <li class="nav-item">
                                <a id="reviews-tab" data-toggle="tab" href="#reviews" role="tab" aria-controls="reviews" aria-selected="false">Reviews</a>
                            </li>
                        </ul>

                        <div class="tab-content" id="myTabContent">
                            <div class="tab-pane fade show active" id="overview" role="tabpanel" aria-labelledby="overview-tab">
                                <div class="overview-description">
                                    <div class="singel-description pt-40">
                                        <h6>Course Summary</h6>
                                        <p>@Model.Course.Description</p>
                                    </div>
                                </div> <!-- overview description -->
                            </div>
                            <div class="tab-pane fade" id="curriculam" role="tabpanel" aria-labelledby="curriculam-tab">
                                <div class="curriculam-cont">
                                    <div class="title">
                                        <h6>@Model.Course.Name</h6>
                                    </div>
                                    <div class="accordion" id="accordionExample">
                                        @{
                                            int lessonNumber = 1; // Initialize the lesson number counter
                                        }
                                        @foreach (var lesson in Model.Course.Lessons)
                                        {
                                            <div class="card">
                                                <div class="card-header" id="heading-@lessonNumber">
                                                    <a href="#" data-toggle="collapse" data-target="#collapse-@lessonNumber" aria-expanded="true" aria-controls="collapseOne-@lessonNumber">
                                                        <ul>
                                                            <li><i class="fa fa-file-o"></i></li>
                                                            <li><span class="lecture">Lesson @(lessonNumber)</span></li>
                                                            <li><span class="head">@lesson.Title</span></li>
                                                        </ul>
                                                    </a>
                                                </div>

                                                <div id="collapseOne-@lessonNumber" class="collapse show" aria-labelledby="heading-@lessonNumber" data-parent="#accordionExample">
                                                    <div class="card-body">
                                                        <p>
                                                            @lesson.Content
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>

                                            lessonNumber++; // Increment the lesson number for the next iteration
                                        }
                                    </div>
                                </div> <!-- curriculam cont -->
                            </div>
                            <div class="tab-pane fade" id="instructor" role="tabpanel" aria-labelledby="instructor-tab">
                                <div class="instructor-cont">
                                    <div class="instructor-author">
                                        <div class="author-name">
                                            <a href="#"><h5>@Model.Course.Instructor.Information.Name</h5></a>
                                            <span>Artirst</span>
                                            <ul class="social">
                                                <li><a href="#"><i class="fa fa-facebook-f"></i></a></li>
                                                <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                                                <li><a href="#"><i class="fa fa-google-plus"></i></a></li>
                                                <li><a href="#"><i class="fa fa-instagram"></i></a></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="instructor-description pt-25">
                                        <p>Celebrating the art of precision, your drawing instructor. With over 20 years of experience, I've delved into the world of ink and paper, crafting intricate, mesmerizing creations that transport viewers to a realm of detailed wonder. My work is an ode to nature's beauty, revealing the delicate balance of light and shadow. Whether exhibited in galleries or adorning the walls of art enthusiasts, my ink drawings beckon you to explore the fine intricacies of our world. Join me on this artistic journey, where every stroke is a story, and every piece a testament to the power of meticulous creativity.</p>
                                    </div>
                                </div> <!-- instructor cont -->
                            </div>
                            <div class="tab-pane fade" id="reviews" role="tabpanel" aria-labelledby="reviews-tab">
                                <div class="reviews-cont">
                                    <ul>
                                        @if (Model.Course.Reviews != null)
                                        {
                                            @foreach (var review in Model.Course.Reviews)
                                            {
                                                <li>
                                                    <div class="singel-reviews">
                                                        <div class="reviews-author">
                                                            <div class="">
                                                                <h6>@review.Learner.User.Name</h6>
                                                            </div>
                                                        </div>
                                                        <div class="reviews-description pt-20">
                                                            <p>@review.Comment</p>
                                                            <div class="rating">
                                                                <ul>
                                                                    @for (var i = 0; i < review.Rating; i++)
                                                                    {
                                                                        <li><i class="fa fa-star"></i></li>
                                                                    }
                                                                    @for (var i = 0; i < (5 - review.Rating); i++)
                                                                    {
                                                                        <li><i class="fa fa-star" style="color: gray;"></i></li>
                                                                    }
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div> <!-- singel reviews -->
                                                </li>
                                            }
                                        }
                                    </ul>
                                    <div class="title pt-15">
                                        <h6>Leave A Comment</h6>
                                    </div>
                                    <div class="reviews-form">
                                        <form method="post" asp-page-handler="OnPostComment">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <div class="form-singel">
                                                        <div class="rate-label" style="height: 50px; line-height: 50px;">Your Rating:</div>
                                                        <div class="rating">
                                                            <label>
                                                                <input type="radio" name="stars" value="1" />
                                                                <span class="icon">★</span>
                                                            </label>
                                                            <label>
                                                                <input type="radio" name="stars" value="2" />
                                                                <span class="icon">★</span>
                                                                <span class="icon">★</span>
                                                            </label>
                                                            <label>
                                                                <input type="radio" name="stars" value="3" />
                                                                <span class="icon">★</span>
                                                                <span class="icon">★</span>
                                                                <span class="icon">★</span>
                                                            </label>
                                                            <label>
                                                                <input type="radio" name="stars" value="4" />
                                                                <span class="icon">★</span>
                                                                <span class="icon">★</span>
                                                                <span class="icon">★</span>
                                                                <span class="icon">★</span>
                                                            </label>
                                                            <label>
                                                                <input type="radio" name="stars" value="5" />
                                                                <span class="icon">★</span>
                                                                <span class="icon">★</span>
                                                                <span class="icon">★</span>
                                                                <span class="icon">★</span>
                                                                <span class="icon">★</span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <div class="form-singel">
                                                        <textarea placeholder="Comment"></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <div class="form-singel">
                                                        <input type="hidden" name="id" value="@Model.Course.Id" />
                                                        <button type="submit" class="main-btn">Post Comment</button>
                                                    </div>
                                                </div>
                                            </div> <!-- row -->
                                        </form>
                                    </div>
                                </div> <!-- reviews cont -->
                            </div>
                        </div> <!-- tab content -->
                    </div>
                </div> <!-- corses singel left -->

            </div>
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-12 col-md-6">
                        <div class="course-features mt-30">
                            <h4>Course Features </h4>
                            <ul>
                                <li><i class="fa fa-clone"></i>Leturers : <span>1</span></li>
                                <li><i class="fa fa-beer"></i>Exams :  <span>@Model.Exams.Count</span></li>
                            </ul>
                            <div class="price-button pt-10">
                                @{
                                    bool check = true;
                                }
                                @foreach (var course in Model.Purchased)
                                {
                                    if (course.Id == Model.Course.Id)
                                    {
                                        <a asp-page="Index" asp-route-id="@course.Id" class="main-btn mt-3">Study Now</a>
                                        check = false;
                                        break;
                                    }
                                }
                                @if (check)
                                {
                                    <span>
                                        Price:
                                        @if (Model.Course.DiscountPrice != 0)
                                        {
                                            <s class="text-muted">@Model.Course.OriginalPrice</s>
                                            <b>@Model.Course.DiscountPrice</b>
                                        }
                                        else
                                        {
                                            <b>@Model.Course.OriginalPrice</b>
                                        }
                                        VND
                                    </span>
                                    <form method="post" class="mt-20">
                                        <input type="hidden" name="id" value="@Model.Course.Id" />
                                        <button type="submit" class="tmp-add-cart add-cart p-3">
                                            <i class="bi bi-cart-fill"></i> Enroll Now
                                        </button>
                                    </form>
                                }
                            </div>
                        </div> <!-- course features -->
                    </div>
                    <div class="col-lg-12 col-md-6">
                        <div class="You-makelike mt-30">
                            <h4>You may like </h4>
                            <div class="singel-makelike mt-20">
                                <div class="image">
                                    <img src="/images/your-make/y-1.jpg" alt="Image">
                                </div>
                                <div class="cont">
                                    <a href="#"><h4>Beyond the Basics: Advanced Drawing Techniques</h4></a>
                                    <ul>
                                        <li>200.000VND</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="singel-makelike mt-20">
                                <div class="image">
                                    <img src="/images/your-make/y-1.jpg" alt="Image">
                                </div>
                                <div class="cont">
                                    <a href="#"><h4>Cartooning and Caricature: Drawing with Humor</h4></a>
                                    <ul>
                                        <li>300.000VND</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="singel-makelike mt-20">
                                <div class="image">
                                    <img src="/images/your-make/y-1.jpg" alt="Image">
                                </div>
                                <div class="cont">
                                    <a href="#"><h4>Anatomy for Artists: The Human Figure</h4></a>
                                    <ul>
                                        <li>400.000VND</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- row -->
        <div class="row">
            <div class="col-lg-8">
                <div class="releted-courses pt-95">
                    <div class="title">
                        <h3>Releted Courses</h3>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="singel-course mt-30">
                                <div class="thum">
                                    <div class="image">
                                        <img src="/images/course/cu-1.jpg" alt="Course">
                                    </div>
                                    <div class="price">
                                        <span>120.000VND</span>
                                    </div>
                                </div>
                                <div class="cont">
                                    <ul>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                    </ul>
                                    <span>(20 Reviews)</span>
                                    <a href="/Customer/Course/Detail"><h4>Brushstrokes of Inspiration: Beginner's Drawing</h4></a>
                                    <div class="course-teacher">
                                        <div class="name">
                                            <a href="#"><h6>Nguyen Ngoc Thinh</h6></a>
                                        </div>
                                    </div>
                                    <div class="button text-center mt-4">
                                        <a href="#" class="main-btn"><i class="bi bi-cart-fill"></i> Enroll</a>
                                    </div>
                                </div>
                            </div> <!-- singel course -->
                        </div>
                        <div class="col-md-6">
                            <div class="singel-course mt-30">
                                <div class="thum">
                                    <div class="image">
                                        <img src="/images/course/cu-1.jpg" alt="Course">
                                    </div>
                                    <div class="price">
                                        <span>120.000VND</span>
                                    </div>
                                </div>
                                <div class="cont">
                                    <ul>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                    </ul>
                                    <span>(20 Reviews)</span>
                                    <a href="/Customer/Course/Detail"><h4>Wildlife Sketchbook: Animals in Their Habitat</h4></a>
                                    <div class="course-teacher">
                                        <div class="name">
                                            <a href="#"><h6>Nguyen Ngoc Thinh</h6></a>
                                        </div>
                                    </div>
                                    <div class="button text-center mt-4">
                                        <a href="#" class="main-btn"><i class="bi bi-cart-fill"></i> Enroll</a>
                                    </div>
                                </div>
                            </div> <!-- singel course -->
                        </div>
                    </div> <!-- row -->
                </div> <!-- releted courses -->
            </div>
        </div> <!-- row -->
    </div> <!-- container -->
</section>

<!--====== COURSES SINGLE PART ENDS ======-->